<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>لوحة تحكم بلوجر + تسجيل دخول</title>
  <script src="https://apis.google.com/js/api.js"></script>
  <style>
    body {
      font-family: 'Cairo', Tahoma, sans-serif;
      background: #f0f2f5;
      padding: 30px;
      text-align: center;
    }

    .panel {
      background: #fff;
      padding: 25px;
      max-width: 500px;
      margin: auto;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    h2 {
      margin-bottom: 20px;
      color: #333;
    }

    button {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 12px;
      font-size: 16px;
      border: none;
      background-color: #2196F3;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background-color: #1976d2;
    }

    #user-info {
      margin-top: 15px;
      color: #333;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <div class="panel">
    <h2>لوحة تحكم بلوجر 🔧</h2>

    <button onclick="handleAuthClick()">🔑 تسجيل الدخول بجوجل</button>

    <div id="user-info"></div>

    <hr>

    <button onclick="openBloggerPage('layout')">📐 التنسيق</button>
    <button onclick="openBloggerPage('posts')">📝 المشاركات</button>
    <button onclick="openBloggerPage('settings')">⚙️ الإعدادات</button>
    <button onclick="openBloggerPage('theme')">🎨 المظهر</button>
    <button onclick="openBloggerPage('comments')">💬 التعليقات</button>
    <button onclick="openBloggerPage('create')">➕ تدوينة جديدة</button>
  </div>

  <script>
    const blogId = '277624714973052630';
    const clientId = '6996456913-t6ceju8vos0icbev531e7iqdrtm7g7u4.apps.googleusercontent.com';
    const scopes = 'https://www.googleapis.com/auth/blogger https://www.googleapis.com/auth/userinfo.profile';

    function openBloggerPage(page) {
      let url = `https://www.blogger.com/blog/`;
      switch (page) {
        case 'layout': url += `layout/${blogId}`; break;
        case 'posts': url += `posts/${blogId}`; break;
        case 'settings': url += `settings/${blogId}`; break;
        case 'theme': url += `theme/${blogId}`; break;
        case 'comments': url += `comments/${blogId}`; break;
        case 'create': url = `https://www.blogger.com/blog/post/edit/${blogId}`; break;
        default: return;
      }
      window.open(url, '_blank');
    }

    function handleAuthClick() {
      gapi.load('client:auth2', () => {
        gapi.auth2.init({
          client_id: clientId,
          scope: scopes
        }).then(() => {
          const authInstance = gapi.auth2.getAuthInstance();
          authInstance.signIn().then(user => {
            const profile = user.getBasicProfile();
            document.getElementById('user-info').innerText = `مرحبًا، ${profile.getName()}`;
            // لاحقًا: تقدر تستخدم accessToken في Blogger API
            const accessToken = user.getAuthResponse().access_token;
            console.log('Access Token:', accessToken);
          });
        });
      });
    }
  </script>

</body>
</html>
